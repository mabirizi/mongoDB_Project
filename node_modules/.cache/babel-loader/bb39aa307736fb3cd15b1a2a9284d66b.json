{"ast":null,"code":"var _jsxFileName = \"/home/ahmed/Desktop/mongoDB_Product/src/pages/Product/Products.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Products from '../../components/Products/Products';\n\nclass ProductsPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isLoading: true,\n      products: []\n    };\n\n    this.productDeleteHandler = productId => {\n      axios.delete('http://localhost:3100/products/' + productId).then(result => {\n        console.log(result);\n      }).catch(err => {\n        this.props.onError('Deleting the product failed. Please try again later');\n        console.log(err);\n      });\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:3100/products').then(productsResponse => {\n      this.setState({\n        isLoading: false,\n        products: productsResponse.data\n      });\n    }).catch(err => {\n      this.setState({\n        isLoading: false,\n        products: []\n      });\n      this.props.onError('Loading products failed. Please try again later');\n      console.log(err);\n    });\n  }\n\n  render() {\n    let content = React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, \"Loading products...\");\n\n    if (!this.state.isLoading && this.state.products.length > 0) {\n      content = React.createElement(Products, {\n        products: this.state.products,\n        onDeleteProduct: this.productDeleteHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      });\n    }\n\n    if (!this.state.isLoading && this.state.products.length === 0) {\n      content = React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Found no products. Try again later.\");\n    }\n\n    return React.createElement(\"main\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, content);\n  }\n\n}\n\nexport default ProductsPage;","map":{"version":3,"sources":["/home/ahmed/Desktop/mongoDB_Product/src/pages/Product/Products.js"],"names":["React","Component","axios","Products","ProductsPage","state","isLoading","products","productDeleteHandler","productId","delete","then","result","console","log","catch","err","props","onError","componentDidMount","get","productsResponse","setState","data","render","content","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,QAAP,MAAqB,oCAArB;;AAEA,MAAMC,YAAN,SAA2BH,SAA3B,CAAqC;AAAA;AAAA;AAAA,SACnCI,KADmC,GAC3B;AAAEC,MAAAA,SAAS,EAAE,IAAb;AAAmBC,MAAAA,QAAQ,EAAE;AAA7B,KAD2B;;AAAA,SAenCC,oBAfmC,GAeZC,SAAS,IAAI;AAClCP,MAAAA,KAAK,CACFQ,MADH,CACU,oCAAoCD,SAD9C,EAEGE,IAFH,CAEQC,MAAM,IAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACD,OAJH,EAKGG,KALH,CAKSC,GAAG,IAAI;AACZ,aAAKC,KAAL,CAAWC,OAAX,CACE,qDADF;AAGAL,QAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACD,OAVH;AAWD,KA3BkC;AAAA;;AAEnCG,EAAAA,iBAAiB,GAAG;AAClBjB,IAAAA,KAAK,CACFkB,GADH,CACO,gCADP,EAEGT,IAFH,CAEQU,gBAAgB,IAAI;AACxB,WAAKC,QAAL,CAAc;AAAEhB,QAAAA,SAAS,EAAE,KAAb;AAAoBC,QAAAA,QAAQ,EAAEc,gBAAgB,CAACE;AAA/C,OAAd;AACD,KAJH,EAKGR,KALH,CAKSC,GAAG,IAAI;AACZ,WAAKM,QAAL,CAAc;AAAEhB,QAAAA,SAAS,EAAE,KAAb;AAAoBC,QAAAA,QAAQ,EAAE;AAA9B,OAAd;AACA,WAAKU,KAAL,CAAWC,OAAX,CAAmB,iDAAnB;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACD,KATH;AAUD;;AAgBDQ,EAAAA,MAAM,GAAG;AACP,QAAIC,OAAO,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAd;;AAEA,QAAI,CAAC,KAAKpB,KAAL,CAAWC,SAAZ,IAAyB,KAAKD,KAAL,CAAWE,QAAX,CAAoBmB,MAApB,GAA6B,CAA1D,EAA6D;AAC3DD,MAAAA,OAAO,GACL,oBAAC,QAAD;AACE,QAAA,QAAQ,EAAE,KAAKpB,KAAL,CAAWE,QADvB;AAEE,QAAA,eAAe,EAAE,KAAKC,oBAFxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAMD;;AACD,QAAI,CAAC,KAAKH,KAAL,CAAWC,SAAZ,IAAyB,KAAKD,KAAL,CAAWE,QAAX,CAAoBmB,MAApB,KAA+B,CAA5D,EAA+D;AAC7DD,MAAAA,OAAO,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAAV;AACD;;AACD,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOA,OAAP,CAAP;AACD;;AA5CkC;;AA+CrC,eAAerB,YAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nimport Products from '../../components/Products/Products';\n\nclass ProductsPage extends Component {\n  state = { isLoading: true, products: [] };\n  componentDidMount() {\n    axios\n      .get('http://localhost:3100/products')\n      .then(productsResponse => {\n        this.setState({ isLoading: false, products: productsResponse.data });\n      })\n      .catch(err => {\n        this.setState({ isLoading: false, products: [] });\n        this.props.onError('Loading products failed. Please try again later');\n        console.log(err);\n      });\n  }\n\n  productDeleteHandler = productId => {\n    axios\n      .delete('http://localhost:3100/products/' + productId)\n      .then(result => {\n        console.log(result);\n      })\n      .catch(err => {\n        this.props.onError(\n          'Deleting the product failed. Please try again later'\n        );\n        console.log(err);\n      });\n  };\n\n  render() {\n    let content = <p>Loading products...</p>;\n\n    if (!this.state.isLoading && this.state.products.length > 0) {\n      content = (\n        <Products\n          products={this.state.products}\n          onDeleteProduct={this.productDeleteHandler}\n        />\n      );\n    }\n    if (!this.state.isLoading && this.state.products.length === 0) {\n      content = <p>Found no products. Try again later.</p>;\n    }\n    return <main>{content}</main>;\n  }\n}\n\nexport default ProductsPage;\n"]},"metadata":{},"sourceType":"module"}